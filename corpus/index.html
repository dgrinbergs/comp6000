<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>COMP6000 Corpus - SmartGen</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      * {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      }
    </style>
  </head>
  <body class="max-w-7xl m-auto px-8 py-8 flex flex-col space-y-8">
    <header
      class="flex flex-col space-y-4 rounded-lg px-8 py-12 justify-center items-center bg-neutral-100 border-2 border-black"
    >
      <h1 class="text-4xl">COMP6000 Corpus - SmartGen</h1>
      <ul id="member-list" class="flex flex-row space-x-4"></ul>
    </header>
    <main class="flex flex-col space-y-8">
      <section
        class="flex flex-col space-y-8 p-8 rounded-lg bg-neutral-100 border-2 border-black"
      >
        <h2 class="text-2xl underline underline-offset-4">Documents</h2>
        <ul id="section-list" class="flex flex-col space-y-4"></ul>
      </section>
    </main>
    <footer></footer>
  </body>
  <script src="data.js"></script>
  <script>
    const addMembers = () => {
      const memberList = document.getElementById("member-list");

      const insertBullet = () => {
        const listItem = document.createElement("li");
        listItem.append("â€¢");
        memberList.append(listItem);
      };

      members.forEach((member, index) => {
        if (index !== 0 && index < members.length) {
          insertBullet();
        }
        const listItem = document.createElement("li");
        listItem.innerText = member;
        memberList.appendChild(listItem);
      });
    };

    const addSections = () => {
      const sectionList = document.getElementById("section-list");

      sections.forEach(({ section, documents }) => {
        const sectionDetails = document.createElement("li");
        sectionDetails.classList = "flex flex-col space-y-2";
        const heading = document.createElement("h3");
        heading.innerText = section;
        heading.classList = "text-xl";

        const documentList = document.createElement("ul");
        documentList.classList = "flex flex-col pl-4";

        documents.forEach(({ name, href }) => {
          const doc = document.createElement("li");
          const anchor = document.createElement("a");

          anchor.innerText = name;
          anchor.href = href;

          doc.appendChild(anchor);
          documentList.appendChild(doc);
        });

        sectionDetails.appendChild(heading);
        sectionDetails.appendChild(documentList);
        sectionList.append(sectionDetails);
      });
    };

    document.addEventListener("DOMContentLoaded", () => {
      addMembers();
      addSections();
    });
  </script>
</html>
